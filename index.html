<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lebenslauf – Drag-&-Drop (A1) – Wolf im Anzug</title>
<style>
  :root{
    --paper:#ffffff; --bg:#f3f4f6; --ink:#0f172a; --muted:#6b7280;
    --line:#e5e7eb; --accent:#2563eb; --good:#16a34a; --bad:#dc2626;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;background:var(--bg);color:var(--ink);
    font:16px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    padding:20px;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;
    touch-action:none;
  }
  .wrap{width:min(1200px,100%);display:grid;gap:16px}
  header.top{display:flex;justify-content:space-between;align-items:center;gap:12px}
  h1{margin:0;font-size:20px}
  .controls{display:flex;gap:8px;flex-wrap:wrap}
  button{
    border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 12px;
    font-weight:600;cursor:pointer
  }
  button:hover{background:#f8fafc}
  .primary{background:var(--accent);color:#fff;border-color:var(--accent)}
  .kiosk{display:flex;gap:10px;align-items:center;color:var(--muted)}
  .kiosk input{width:18px;height:18px}

  .board{display:grid;grid-template-columns: 2fr 1fr; gap:16px}
  @media (max-width:1000px){ .board{grid-template-columns:1fr} }

  .cv-sheet{
    background:var(--paper); border:1px solid var(--line); border-radius:16px;
    padding:28px; box-shadow:0 10px 30px rgba(0,0,0,.06);
  }
  .cv-head{
    display:grid; grid-template-columns: 96px 1fr; gap:20px; align-items:center; margin-bottom:18px;
  }
  .avatar{
    width:100px;height:100px;border-radius:12px;border:1px solid var(--line);
    background:#fff; overflow:hidden; display:grid; place-items:center;
  }
  .name-block{display:flex;flex-direction:column;gap:2px}
  .cv-name{font-size:28px; font-weight:800; letter-spacing:.2px}
  .cv-sub{color:var(--muted);font-size:14px}

  .cv-grid{display:grid; grid-template-columns: 260px 1fr; gap:28px;}
  @media (max-width:800px){ .cv-grid{grid-template-columns:1fr} }

  .col-left{padding-right:8px;border-right:1px solid var(--line)}
  @media (max-width:800px){ .col-left{border-right:none;border-bottom:1px solid var(--line);padding-bottom:16px;margin-bottom:12px} }

  .cv-sec{margin-bottom:18px}
  .cv-title{
    font-size:13px; letter-spacing:.14em; text-transform:uppercase;
    color:#111827; font-weight:800; margin-bottom:10px;
  }
  .cv-line{height:1px;background:var(--line);margin:8px 0 10px}

  .drop-zone{
    min-height:48px; border:2px dashed #dfe3ea; border-radius:12px;
    padding:10px; background:#fafafa;
    display:flex; flex-wrap:wrap; gap:8px; align-content:flex-start;
  }
  .drop-zone.tight{min-height:38px;padding:8px;border-radius:10px}
  .slot-highlight{outline:3px solid rgba(37,99,235,.35);outline-offset:2px}

  .tray{
    background:#fff;border:1px solid var(--line);border-radius:16px;padding:16px;
    box-shadow:0 10px 30px rgba(0,0,0,.05); display:flex;flex-direction:column;gap:10px
  }
  .hint{font-size:14px;color:var(--muted)}
  .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px}
  .card{
    user-select:none;touch-action:none;cursor:grab;
    background:#fff;border:2px solid #e5e7eb;border-radius:12px;padding:10px;font-weight:600;
    box-shadow:0 2px 8px rgba(0,0,0,.05)
  }
  .card.small{font-weight:500}
  .card:active{cursor:grabbing}
  .floating{
    position:fixed; z-index:1000; pointer-events:none; left:0; top:0;
  }

  .result{font-weight:800;margin-top:4px}
  .ok{color:var(--good)} .bad{color:var(--bad)}
</style>
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div>
        <h1>Lebenslauf – realistische Drag-&-Drop-Übung <span style="font-size:12px;color:#64748b">A1</span></h1>
        <div style="color:#64748b;font-size:14px">Ziehe die Karten an die richtigen Stellen im Lebenslauf.</div>
      </div>
      <div class="controls">
        <label class="kiosk"><input type="checkbox" id="simpleText"> Einfache Karten</label>
        <button id="mix">Mischen</button>
        <button id="reset">Zurücksetzen</button>
        <button id="show">Lösung</button>
        <button class="primary" id="check">Prüfen</button>
      </div>
    </header>

    <section class="board">
      <!-- Linke Seite: CV -->
      <article class="cv-sheet" aria-label="Lebenslauf-Dokument">
        <div class="cv-head">
<div class="avatar" aria-label="Wolf-Foto">
  <img src="wolf.png" alt="Nu-Pogodi-Wolf im Anzug" 
       style="width:150%; height:150%; object-fit:cover; border-radius:12px;">
</div>

          <div class="name-block">
            <div class="cv-name">Vorname Nachname</div>
            <div class="cv-sub">Lebenslauf</div>
          </div>
        </div>

        <div class="cv-grid">
          <div class="col-left">
            <div class="cv-sec">
              <div class="cv-title">Persönliche Daten</div>
              <div class="cv-line"></div>
              <div class="drop-zone tight" data-accept="name"></div>
              <div class="drop-zone tight" data-accept="adresse"></div>
              <div class="drop-zone tight" data-accept="geburtsdatum"></div>
              <div class="drop-zone tight" data-accept="geburtsort"></div>
            </div>
            <div class="cv-sec">
              <div class="cv-title">Kontakt</div>
              <div class="cv-line"></div>
              <div class="drop-zone tight" data-accept="telefon"></div>
              <div class="drop-zone tight" data-accept="email"></div>
            </div>
            <div class="cv-sec">
              <div class="cv-title">Sprachen</div>
              <div class="cv-line"></div>
              <div class="drop-zone" data-accept="sprache"></div>
            </div>
          </div>

          <div class="col-right">
            <div class="cv-sec">
              <div class="cv-title">Berufserfahrung / Praktika</div>
              <div class="cv-line"></div>
              <div class="drop-zone" data-accept="job,praktikum,erfahrung,taetigkeit"></div>
            </div>
            <div class="cv-sec">
              <div class="cv-title">Ausbildung</div>
              <div class="cv-line"></div>
              <div class="drop-zone" data-accept="schule,abschluss,ausbildung,bildung"></div>
            </div>
            <div class="cv-sec">
              <div class="cv-title">Kenntnisse & Interessen</div>
              <div class="cv-line"></div>
              <div class="drop-zone" data-accept="edv,kenntnisse,hobbys,interessen"></div>
            </div>
          </div>
        </div>
      </article>

      <!-- Rechte Seite: Karten -->
      <aside class="tray" aria-label="Karten-Ablage">
        <div class="hint">Karten:</div>
        <div id="cards" class="cards"></div>
        <div id="result" class="result" aria-live="polite"></div>
      </aside>
    </section>
  </div>

<script>
  const CONFIG = {
    items_full: [
      { key:"name",       text:"Name: (Vor- und Nachname)" },
      { key:"adresse",    text:"Adresse: Straße, Nr., PLZ Ort" },
      { key:"geburtsdatum",text:"Geburtsdatum: TT.MM.JJJJ" },
      { key:"geburtsort", text:"Geburtsort: Stadt, Land" },
      { key:"telefon",    text:"Telefon: 0176 123456789" },
      { key:"email",      text:"E-Mail: name@mail.de" },

      { key:"sprache",    text:"Sprachen: Deutsch A1, Englisch A2, Muttersprache" },

      { key:"job",        text:"Berufserfahrung: Minijob im Supermarkt (Kasse)" },
      { key:"praktikum",  text:"Praktikum: 06/2024–07/2024 Kindergarten" },
      { key:"erfahrung",  text:"Tätigkeiten: Kunden helfen, Regale einräumen" },
      { key:"taetigkeit", text:"Aufgaben: Kinder betreuen, Basteln" },

      { key:"schule",     text:"Schule: Gesamtschule Musterstadt" },
      { key:"abschluss",  text:"Schulabschluss: vorauss. 2026" },
      { key:"ausbildung", text:"Berufsschule / schulische Ausbildung" },
      { key:"bildung",    text:"Kurse / Zertifikate (Erste Hilfe, PC)" },

      { key:"edv",        text:"EDV: Word, PowerPoint, Smartphone" },
      { key:"kenntnisse", text:"Fähigkeiten: pünktlich, teamfähig" },
      { key:"hobbys",     text:"Hobbys: Fußball, Zeichnen, Musik" },
      { key:"interessen", text:"Interessen: Technik, Soziales" },
    ],
    items_short: [
      { key:"name",       text:"Name" },
      { key:"adresse",    text:"Adresse" },
      { key:"geburtsdatum",text:"Geburtsdatum" },
      { key:"geburtsort", text:"Geburtsort" },
      { key:"telefon",    text:"Telefon" },
      { key:"email",      text:"E-Mail" },

      { key:"sprache",    text:"Sprachen" },

      { key:"job",        text:"Berufserfahrung" },
      { key:"praktikum",  text:"Praktikum" },
      { key:"erfahrung",  text:"Erfahrung" },
      { key:"taetigkeit", text:"Tätigkeiten" },

      { key:"schule",     text:"Schule" },
      { key:"abschluss",  text:"Abschluss" },
      { key:"ausbildung", text:"Ausbildung" },
      { key:"bildung",    text:"Kurse" },

      { key:"edv",        text:"Computer" },
      { key:"kenntnisse", text:"Fähigkeiten" },
      { key:"hobbys",     text:"Hobbys" },
      { key:"interessen", text:"Interessen" },
    ],
  };

  const $ = s=>document.querySelector(s);
  const $$ = s=>Array.from(document.querySelectorAll(s));
  function shuffle(a){ a=[...a]; for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a;}

  const cardsEl   = $("#cards");
  const resultEl  = $("#result");
  const simpleCb  = $("#simpleText");

  function zoneAccepts(zone, key){
    return (zone.dataset.accept||"").split(",").map(s=>s.trim()).includes(key);
  }

  function buildCards(){
    cardsEl.innerHTML = "";
    const items = simpleCb?.checked ? CONFIG.items_short : CONFIG.items_full;
    for(const item of shuffle(items)){
      const card = document.createElement("div");
      card.className = "card";
      if(simpleCb?.checked) card.classList.add("small");
      card.textContent = item.text;
      card.setAttribute("data-key", item.key);
      card.setAttribute("role","button");
      card.setAttribute("tabindex","0");
      cardsEl.appendChild(card);
    }
    attachDnd();
    resultEl.textContent = "";
    resultEl.className = "result";
  }
  simpleCb?.addEventListener("change", buildCards);

  let drag = null;

  function attachDnd(){
    $$(".card").forEach(card=>{
      card.addEventListener("pointerdown", onDown);
      card.addEventListener("keydown", e=>{
        if(e.key==="Enter"||e.key===" "){
          e.preventDefault();
          const key = card.dataset.key;
          const target = $$(".drop-zone").find(z=>zoneAccepts(z,key));
          if(target){ target.appendChild(card); flash(target); }
        }
      });
    });
  }

  function onDown(e){
    const card = e.currentTarget;
    e.preventDefault();
    card.setPointerCapture(e.pointerId);

    const r = card.getBoundingClientRect();
    const ghost = card.cloneNode(true);
    ghost.classList.add("floating");
    ghost.style.width = r.width+"px";
    ghost.style.height = r.height+"px";
    document.body.appendChild(ghost);

    drag = {card, ghost, dx: e.clientX - r.left, dy: e.clientY - r.top};
    card.style.opacity = ".35";
    highlight(card.dataset.key,true);

    card.addEventListener("pointermove", onMove);
    card.addEventListener("pointerup", onUp);
    card.addEventListener("pointercancel", onUp);

    moveGhost(e);
  }

  function onMove(e){
    if(!drag) return;
    e.preventDefault();
    moveGhost(e);
  }

  function moveGhost(e){
    const {ghost,dx,dy} = drag;
    const x = e.clientX - dx;
    const y = e.clientY - dy;
    ghost.style.left = x + "px";
    ghost.style.top  = y + "px";

    const target = bestZone(e.clientX, e.clientY, drag.card.dataset.key);
    $$(".drop-zone").forEach(z=>z.classList.remove("slot-highlight"));
    if(target) target.classList.add("slot-highlight");
  }

  function onUp(e){
    const {card, ghost} = drag || {};
    if(!card) return;
    const key = card.dataset.key;
    const target = bestZone(e.clientX, e.clientY, key);
    $$(".drop-zone").forEach(z=>z.classList.remove("slot-highlight"));
    highlight(key,false);

    if(target){ target.appendChild(card); flash(target); }
    else { cardsEl.appendChild(card); }

    card.style.opacity="1";
    ghost.remove();
    drag=null;

    card.removeEventListener("pointermove", onMove);
    card.removeEventListener("pointerup", onUp);
    card.removeEventListener("pointercancel", onUp);
    resultEl.textContent="";
    resultEl.className="result";
  }

  function bestZone(x,y,key){
    const el = document.elementFromPoint(x,y);
    const zones = new Set();
    let n = el;
    while(n){
      if(n.classList?.contains("drop-zone")) zones.add(n);
      n = n.parentElement;
    }
    const valid = [...zones].filter(z=>zoneAccepts(z,key));
    if(valid.length) return valid[0];

    const all = $$(".drop-zone").filter(z=>zoneAccepts(z,key));
    let best=null,bestD=Infinity;
    for(const z of all){
      const r = z.getBoundingClientRect();
      const cx = Math.max(r.left, Math.min(x, r.right));
      const cy = Math.max(r.top,  Math.min(y, r.bottom));
      const d = (x-cx)**2 + (y-cy)**2;
      if(d<bestD){ bestD=d; best=z; }
    }
    if(!best) return null;
    const R = best.getBoundingClientRect();
    const inside = x>=R.left && x<=R.right && y>=R.top && y<=R.bottom;
    const near = bestD < 2600;
    return (inside||near) ? best : null;
  }

  function highlight(key,on){
    $$(".drop-zone").forEach(z=>{
      z.style.outline = (on && zoneAccepts(z,key)) ? "2px solid rgba(37,99,235,.35)" : "none";
    });
  }
  function flash(el){ el.animate([{background:"#e7f0ff"},{background:"#fafafa"}],{duration:450}); }

  document.getElementById("check").addEventListener("click", ()=>{
    let total=0, ok=0, wrong=0;
    $$(".drop-zone").forEach(z=>{
      const accepts = (z.dataset.accept||"").split(",").map(s=>s.trim());
      z.querySelectorAll(".card").forEach(card=>{
        total++;
        const good = accepts.includes(card.dataset.key);
        card.style.borderColor = good ? "#86efac" : "#fca5a5";
        if(good) ok++; else wrong++;
      });
    });
    resultEl.className = "result " + (wrong===0?"ok":"bad");
    resultEl.textContent = wrong===0
      ? `Super! Alle ${ok}/${total} Karten liegen richtig.`
      : `Richtig: ${ok}/${total}. Prüfe die rot markierten Karten.`;
  });

  document.getElementById("show").addEventListener("click", ()=>{
    $$(".card").forEach(card=>{
      const key = card.dataset.key;
      const target = $$(".drop-zone").find(z=>zoneAccepts(z,key));
      (target||cardsEl).appendChild(card);
      card.style.borderColor="#86efac";
    });
    resultEl.className="result ok";
    resultEl.textContent="Lösung angezeigt.";
  });

  document.getElementById("reset").addEventListener("click", ()=>{
    $$(".card").forEach(c=>{ c.style.borderColor="#e5e7eb"; cardsEl.appendChild(c); });
    resultEl.textContent=""; resultEl.className="result";
  });

  document.getElementById("mix").addEventListener("click", ()=>{
    const arr=[...$$(".card")];
    for(const c of shuffle(arr)) cardsEl.appendChild(c);
    resultEl.textContent=""; resultEl.className="result";
  });

  buildCards();
</script>
</body>
</html>
